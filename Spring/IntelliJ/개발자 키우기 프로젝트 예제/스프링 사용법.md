

## Spring starter 프로젝트 만들기

* https://start.spring.io/

* 인텔리제이 유료판이 아니어도 spring Initialization 사이트를 통해 프로젝트를 만들 수 있다.

  ![image-20220208232703738](../../../md-images/image-20220208232703738.png)

## 테스트 파일 만들기

* Shift + Command + T
* 테스트를 위해 만드는 클래스라고 생각하면 된다.

![image-20220203233133937](../../../md-images/image-20220203233133937.png)



## H2 Database

테스트용으로 쓰기 간편한 데이터베이스

> 진행 방향
>
> 1. h2 데이터베이스를 쓰기위해 Entity라는 특수한 클래스를 만듦
>
> 2. Entity를 영속하기 위한 Repository란 인터페이스를 만듦
>
> 3. service에서 Repository 호출
>
> 4. controller에서 service를 통해 Repository를 호출했을 때 entity객체를 repository에서 save를 해서 영속시키도록 하면
>
> 5. h2 database에 저장이 되고, 저장된 데이터를 콘솔로 확인할 수 있다.

* localhost:8080/h2-console 을 통해 데이터베이스 콘솔 들어갈 수 있음

* 추가 설정이 필요한데, application.properties를 application.yml로 바꾸고, 밑 입력하면 콘솔에 데이터베이스 JDBC URL이 뜸

* 이 주소는 메모리에 저장되며, 스프링 실행할 때마다 변경됨

  ```yml
  spring:
    h2:
      console:
        enabled: true
  ```

  ![image-20220210163900667](../../../md-images/image-20220210163900667.png)

  * localhost:8080/h2-console 로 들어가서 콘솔에 뜬 JDBC URL을 입력하면 데이터베이스에 진입 가능
    * JDBC란? 자바에서 DB프로그래밍을 하기위해 사용되는 API



### Entity



## 어노테이션

| 어노테이션               | 특징                                                         |      |
| ------------------------ | ------------------------------------------------------------ | ---- |
| 롬복 라이브러리          |                                                              |      |
| @NoArgsConstructor       | 빈 생성자 생성                                               |      |
| @AllArgsConstructor      | 모든 프로퍼티가 있는 생성자 생성                             |      |
| @RequiredArgsConstructor | 필요한 프로퍼티를 넣어주는 생성자<br />@NonNull 프로퍼티를 통해 Null이면 안되는 프로퍼티만 넣어서 생성자를 만듦 |      |
| @Builder                 | setter로 프로퍼티 값을 넣으면서 값이 바뀌지 않도록 하는데 좋음<br />보통 final로 설정 |      |
| @UtilityClass            | 사용자가 정의한 메서드를 만든 클래스를 의미하는 어노테이션   |      |
|                          |                                                              |      |
| @Controller              | Conponent 중 하나                                            |      |
| @ResponseBody            | json으로 응답을 주고 받을 것이라고 의미하는 어노테이션       |      |
| @RestController          | Controller와 RespnseBody 둘 합친 어노테이션                  |      |
| @GetMapping              | Get /main HTTP/1.1이라고 데이터가 들어오면 이쪽으로 m        |      |



### @Builder

~~~java
final DTO dto = DTO.Builder();
	.name("Pang")
  .Build();
~~~



### @GetMapping

* HTTP 메시지 응답이 밑에와 같은 모습이라면 매핑 위치에 데이터가 입력됨

  Get /developers HTTP/1.1

~~~java
@GetMapping("/developers")
public List<String> getAllDevelopers() {
  log.info("Get /developer HTTP/1.1"); //콘솔에 입력되는 로그내용
  return Arrays.asList("snow", "Elsa", "Olaf"); //매핑 위치에 전송되는 데이터 내용
}
~~~

