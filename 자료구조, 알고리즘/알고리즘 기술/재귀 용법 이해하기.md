# 재귀 용법 이해하기



20칸의 계단이 있다. 어떤 사람이 이 계단을 오르려 하는데, 올라가는 방법은 1칸 오르는 방법, 2칸 오르는 방법, 3칸 오르는 방법이 있다. 이 때 이 사람이 20칸의 계단을 오르는 방법은 몇 가지가 있을까?



우리는 직접 수를 세는 것이 아니고 컴퓨터에게 시키는 것이다. 즉, 프로그래밍을 하는 것이다. 위 내용을 알고리즘적으로 어떻게 풀어나갈지 고민해야 한다.
그 방법으로는 20칸의 계단을 오르는 방법의 수는 19칸의 계단을 오르는 방법의 수 + 18칸의 계단을 오르는 방법의 수 + 17칸의 계단을 오르는 방법의 수와 같다. 왜? 이 사람은 1칸, 2칸, 3칸 씩 올라가는 방법이 있으므로 20칸으로 올라갈 때, 19칸에서 1칸 올라가는 방법과 18칸에서 2칸 올라가는 방법과 17칸에서 3칸 올라가는 방법 세 가지가 있는 것이다.

이 것을 코드로 짜면 아래와 같아진다.

~~~java
public class Test {
    public static void main(String[] args) {
        System.out.println(rec_func(20));
    }

    static int rec_func(int n) {
        if (n == 1) return 1;
        if (n == 2) return rec_func(1) + 1;
        if (n == 3) return rec_func(1) + rec_func(2) + 1; //1 1 1, 1 2, 2 1, 3

        return rec_func(n-1) + rec_func(n-2) + rec_func(n-3);
    }
}
~~~



## 재귀는 무조건 이렇게 생각해야한다.

하노이 탑이 가장 대표적인 문제인데, 3개의 링을 움직이려면 

하노이 탑 3 0 0 에서 0 0 3 으로 만들려면, 맨 밑 하나를 남기고 나머지를 가운데로 옮겨야 한다.

즉, 3 0 0 => 1 2 0 => 0 2 1 => 0 0 3 이런 모습으로 가져가야 한다.

즉 n개를 움직이려면, n-1개를 가운데로 옮기고 1개를 옮기고 n-1개를 맨 오른쪽으로 옮기는 생각을 해야한다는 것이고,

이 것은 즉 rec_function(n) = rec_function(n-1) + 1 + rec_function(n-1) 이란 뜻이다.